<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>å¿ƒç†ã‚¼ãƒŸã¨ã¯ | åŒ—å¤§å¿ƒç†ã‚¼ãƒŸ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@700;900&family=Zen+Kaku+Gothic+New:wght@700;900&family=Zen+Maru+Gothic:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        body { font-family: 'Zen Maru Gothic', sans-serif; background: linear-gradient(-45deg, #ffffff, #f8fafc, #eff6ff, #fdf4ff, #fffbeb); background-size: 300% 300%; animation: auroraBG 15s ease infinite; color: #1e293b; min-height: 100vh; padding-bottom: 5rem; overflow-x: hidden; }
        @keyframes auroraBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .glass-card { background: rgba(255, 255, 255, 0.75); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.9); box-shadow: 0 10px 30px -10px rgba(71, 85, 105, 0.15); }
        .fade-in { animation: fadeIn 0.6s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* å‹•ç”»èƒŒæ™¯ç”¨ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
        .video-overlay { background: linear-gradient(to top, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 50%, rgba(0,0,0,0.2) 100%); }
    </style>
</head>
<body class="safe-area-inset-top">

    <main id="portal-view" class="relative pb-10">
        <div class="relative w-full h-[45vh] sm:h-[50vh] overflow-hidden rounded-b-[3rem] shadow-sm mb-6">
            <img src="https://images.unsplash.com/photo-1523240795612-9a054b0db644?auto=format&fit=crop&q=80&w=1000" class="absolute inset-0 w-full h-full object-cover object-center" alt="ã‚¼ãƒŸã®æ§˜å­">
            
            <div class="absolute inset-0 video-overlay"></div>
            
            <div class="absolute bottom-8 left-6 right-6 fade-in">
                <span class="bg-white/90 backdrop-blur text-indigo-600 text-[10px] font-black tracking-widest px-3 py-1 rounded-full shadow-sm">ABOUT US</span>
                <h1 class="text-3xl font-black text-slate-800 mt-3 leading-tight tracking-tight" style="font-family: 'Zen Kaku Gothic New', sans-serif;">
                    å­¦å•ã®å®Ÿè·µã€‚<br>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-pink-500">çŸ¥è­˜ã‚’è¡Œå‹•ã«å¤‰ãˆã‚‹å ´æ‰€</span>
                </h1>
            </div>
        </div>

        <div class="px-5 space-y-5">
            <section class="fade-in" style="animation-delay: 0.1s;">
                <div onclick="startExploration()" class="relative overflow-hidden bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-3xl p-1 shadow-lg cursor-pointer active:scale-95 transition-transform">
                    <div class="bg-white/10 backdrop-blur-md rounded-[1.4rem] p-5 flex items-center justify-between">
                        <div>
                            <h2 class="text-white font-black text-lg mb-1 tracking-wider">ğŸ—ºï¸ å¿ƒç†ã‚¼ãƒŸã«ã¤ã„ã¦çŸ¥ã‚‹</h2>
                            <p class="text-white/80 text-[10px] font-bold">ç–‘å•ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ã€ã‚¼ãƒŸã®å…¨è²Œã‚’è§£ãæ˜ã‹ãã†ï¼</p>
                        </div>
                        <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white text-xl shadow-inner">ğŸ‘‰</div>
                    </div>
                </div>
            </section>

            <section class="fade-in" style="animation-delay: 0.2s;">
                <h3 class="text-sm font-black text-slate-800 tracking-widest flex items-center gap-2 mb-3 px-2"><span>ğŸ“¸</span> æ´»å‹•ã‚®ãƒ£ãƒ©ãƒªãƒ¼</h3>
                <div class="flex gap-3 overflow-x-auto no-scrollbar pb-2 px-1">
                    <img src="https://images.unsplash.com/photo-1529390079861-591de354faf5?w=300&h=200&fit=crop" class="w-40 h-28 rounded-2xl object-cover shadow-sm flex-shrink-0 border border-white">
                    <img src="https://images.unsplash.com/photo-1517486808906-6ca8b3f04846?w=300&h=200&fit=crop" class="w-40 h-28 rounded-2xl object-cover shadow-sm flex-shrink-0 border border-white">
                    <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=300&h=200&fit=crop" class="w-40 h-28 rounded-2xl object-cover shadow-sm flex-shrink-0 border border-white">
                </div>
            </section>
        </div>
    </main>
    <div id="explore-modal" class="fixed inset-0 z-50 hidden flex-col bg-slate-50/95 backdrop-blur-xl animate-[fadeIn_0.3s_ease-out]">
        
        <div class="flex items-center justify-between p-5 border-b border-slate-200/50 bg-white/50">
            <button onclick="closeExploration()" class="w-10 h-10 bg-white rounded-full flex items-center justify-center text-slate-600 shadow-sm border border-slate-100 font-bold active:scale-95 transition">âœ•</button>
            <div class="text-xs font-black text-slate-400 tracking-widest">Q&A EXPLORER</div>
            <div class="w-10"></div> </div>

        <div class="flex-1 overflow-y-auto pb-10 px-5 pt-6">
            <div id="breadcrumb" class="flex flex-wrap items-center gap-1.5 mb-6 text-[10px] font-bold text-indigo-400">
                </div>

            <div class="mb-8 fade-in">
                <span id="current-icon" class="text-4xl block mb-3 drop-shadow-sm">ğŸ¤”</span>
                <h2 id="current-question" class="text-2xl font-black text-slate-800 leading-tight tracking-tight">ä½•ã«ã¤ã„ã¦çŸ¥ã‚ŠãŸã„ã§ã™ã‹ï¼Ÿ</h2>
            </div>

            <div id="options-container" class="space-y-3">
                </div>

            <div id="page-content" class="hidden glass-card rounded-3xl p-6 fade-in">
                <h3 id="page-title" class="text-lg font-black text-slate-800 mb-3 border-b border-slate-200 pb-2"></h3>
                <div id="page-desc" class="text-sm text-slate-600 leading-relaxed font-medium mb-6 whitespace-pre-wrap"></div>
                
                <button id="btn-mark-read" onclick="markAsRead()" class="w-full bg-indigo-50 border border-indigo-200 text-indigo-600 font-black py-4 rounded-xl shadow-sm active:scale-95 transition flex items-center justify-center gap-2">
                    <span class="text-lg">â˜‘ï¸</span> èª­ã‚“ã ï¼ï¼ˆãƒã‚§ãƒƒã‚¯ã‚’ã¤ã‘ã‚‹ï¼‰
                </button>
            </div>
        </div>
    </div>

<script>
        // ==========================================
        // ğŸ“š æ¢ç´¢ç”¨ãƒ‡ãƒ¼ã‚¿ï¼ˆè¶…ãƒ¡ã‚¬ç››ã‚Šãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰
        // ==========================================
        const exploreData = {
            id: "root",
            icon: "ğŸ§­",
            question: "å¿ƒç†ã‚¼ãƒŸã®ä½•ã«ã¤ã„ã¦çŸ¥ã‚ŠãŸã„ã§ã™ã‹ï¼Ÿ",
            children: [
                {
                    id: "activities",
                    label: "ã©ã‚“ãªæ´»å‹•ãŒã‚ã‚‹ã®ï¼Ÿ",
                    icon: "ğŸƒâ€â™‚ï¸",
                    question: "ã©ã®ã‚¸ãƒ£ãƒ³ãƒ«ã®æ´»å‹•ãŒæ°—ã«ãªã‚Šã¾ã™ã‹ï¼Ÿ",
                    children: [
                        {
                            id: "clubs",
                            label: "éƒ¨æ´»ãƒ»ã‚µãƒ¼ã‚¯ãƒ«æ´»å‹•",
                            icon: "ğŸ•ï¸",
                            question: "ã‚¼ãƒŸå†…ã«ã¯è‰²ã€…ãªéƒ¨æ´»ãŒã‚ã‚Šã¾ã™ï¼",
                            children: [
                                { id: "sukoyaka", label: "ã™ã“ã‚„ã‹éƒ¨", icon: "ğŸ§˜", type: "page", title: "ã™ã“ã‚„ã‹éƒ¨", description: "å¥åº·ç¬¬ä¸€ï¼ç­‹ãƒˆãƒ¬ã‚„ã‚µã‚¦ãƒŠã«ä¸€ç·’ã«è¡Œããªã©ã€å¿ƒèº«ã®å¥åº·ã‚’ä¿ã¤ãŸã‚ã®æ´»å‹•ã‚’ã—ã¦ã„ã¾ã™ã€‚\n\nã‚¼ãƒŸã®æ´»å‹•ã§ç–²ã‚ŒãŸé ­ã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã•ã›ã‚‹ã®ã«æœ€é©ãªéƒ¨æ´»ã§ã™ï¼" },
                                { id: "reading", label: "èª­æ›¸éƒ¨", icon: "ğŸ“š", type: "page", title: "èª­æ›¸éƒ¨", description: "ãŠã™ã™ã‚ã®æœ¬ã‚’ç´¹ä»‹ã—åˆã£ãŸã‚Šã€ã¿ã‚“ãªã§åŒã˜æœ¬ã‚’èª­ã‚“ã§ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã‚’ã™ã‚‹éƒ¨æ´»ã§ã™ã€‚\n\nå¿ƒç†å­¦ã«é–¢ã™ã‚‹å°‚é–€æ›¸ã‹ã‚‰ã€ãƒ“ã‚¸ãƒã‚¹æ›¸ã€å°èª¬ã¾ã§å¹…åºƒã„ã‚¸ãƒ£ãƒ³ãƒ«ã‚’æ‰±ã„ã¾ã™ã€‚" },
                                { id: "radio", label: "ãƒ©ã‚¸ã‚ªéƒ¨", icon: "ğŸ“»", type: "page", title: "ãƒ©ã‚¸ã‚ªéƒ¨", description: "ã‚¼ãƒŸç”ŸåŒå£«ã§ãƒ©ã‚¸ã‚ªï¼ˆãƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆï¼‰é…ä¿¡ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚\n\né›‘è«‡ã‹ã‚‰çœŸé¢ç›®ãªãƒ†ãƒ¼ãƒã¾ã§ã€ãƒ¡ãƒ³ãƒãƒ¼ã®ç´ é¡”ã‚„è€ƒãˆã¦ã„ã‚‹ã“ã¨ã‚’ç™ºä¿¡ã—ã¦ã„ã¾ã™ï¼" },
                                { id: "movie", label: "æ˜ ç”»é‘‘è³éƒ¨", icon: "ğŸ¿", type: "page", title: "æ˜ ç”»é‘‘è³éƒ¨", description: "æœˆã«1å›ã€ã¿ã‚“ãªã§é›†ã¾ã£ã¦æ˜ ç”»ã‚’è¦‹ã‚‹éƒ¨æ´»ã§ã™ã€‚\nå¿ƒç†å­¦çš„ãªè¦–ç‚¹ã‹ã‚‰æ˜ ç”»ã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’åˆ†æã—ãŸã‚Šã€ç´”ç²‹ã«æ„Ÿæƒ³ã‚’èªã‚Šåˆã£ãŸã‚Šã—ã¦ã„ã¾ã™ã€‚" },
                                { id: "cafe", label: "ã‚«ãƒ•ã‚§å·¡ã‚Šéƒ¨", icon: "â˜•", type: "page", title: "ã‚«ãƒ•ã‚§å·¡ã‚Šéƒ¨", description: "æœ­å¹Œå¸‚å†…ã®ã‚ªã‚·ãƒ£ãƒ¬ãªã‚«ãƒ•ã‚§ã‚’é–‹æ‹“ã™ã‚‹éƒ¨æ´»ã§ã™ã€‚\nç¾å‘³ã—ã„ã‚³ãƒ¼ãƒ’ãƒ¼ã¨ã‚±ãƒ¼ã‚­ã‚’æ¥½ã—ã¿ãªãŒã‚‰ã€ã‚¼ãƒŸã®ä¼ç”»ä¼šè­°ãŒå§‹ã¾ã‚‹ã“ã¨ã‚‚ã—ã°ã—ã°ã€‚" }
                            ]
                        },
                        {
                            id: "projects",
                            label: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ (PJ)",
                            icon: "ğŸš€",
                            question: "ç¾åœ¨é€²è¡Œä¸­ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§",
                            children: [
                                { id: "pj_shinkan", label: "æ–°æ­“PVåˆ¶ä½œPJ", icon: "ğŸ¬", type: "page", title: "æ–°æ­“PVåˆ¶ä½œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ", description: "æ¥å¹´åº¦ã®æ–°å…¥ç”Ÿã«å‘ã‘ã¦ã€å¿ƒç†ã‚¼ãƒŸã®é­…åŠ›ã‚’ä¼ãˆã‚‹ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ãƒ“ãƒ‡ã‚ªã‚’åˆ¶ä½œã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚\nNotebookLMãªã©ã®æœ€æ–°AIãƒ„ãƒ¼ãƒ«ã‚‚æ´»ç”¨ã—ã¦åŠ¹ç‡çš„ã«ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚’ä½œã£ã¦ã„ã¾ã™ï¼" },
                                { id: "pj_fes", label: "åŒ—å¤§ç¥­å‡ºåº—PJ", icon: "ğŸ®", type: "page", title: "åŒ—å¤§ç¥­å‡ºåº—ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ", description: "æ¯å¹´6æœˆã«è¡Œã‚ã‚Œã‚‹åŒ—å¤§ç¥­ã«å‘ã‘ã¦ã€å‡ºåº—ä¼ç”»ã‚’ç·´ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚\nå­¦ã‚“ã å¿ƒç†å­¦ã®çŸ¥è­˜ã‚’æ´»ã‹ã—ã¦ã€æ¥å ´è€…ãŒæ¥½ã—ã‚ã‚‹ä½“é¨“å‹ä¼ç”»ã‚’ä½œã‚Šã¾ã™ï¼" },
                                { id: "pj_app", label: "å…¬å¼ã‚¢ãƒ—ãƒªé–‹ç™ºPJ", icon: "ğŸ’»", type: "page", title: "å…¬å¼ã‚·ã‚¹ãƒ†ãƒ é–‹ç™ºãƒãƒ¼ãƒ ", description: "ã¾ã•ã«ä»Šã‚ãªãŸãŒä½¿ã£ã¦ã„ã‚‹ã“ã®LINEã‚¢ãƒ—ãƒªã‚„Notioné€£æºã‚·ã‚¹ãƒ†ãƒ ã‚’é–‹ç™ºãƒ»é‹ç”¨ã™ã‚‹ãƒãƒ¼ãƒ ã§ã™ã€‚\nã€Œé‹å–¶ã®è² æ‹…ã‚’æ¸›ã‚‰ã—ã€ãƒ¡ãƒ³ãƒãƒ¼ä½“é¨“ã‚’å‘ä¸Šã•ã›ã‚‹ã€ãŸã‚ã«æ—¥ã€…ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆä¸­ï¼" }
                            ]
                        },
                        {
                            id: "study",
                            label: "è¬›ç¾©ãƒ»å‹‰å¼·ä¼š",
                            icon: "ğŸ“",
                            question: "å­¦å•ã®å®Ÿè·µã®ãŸã‚ã®ã‚¤ãƒ³ãƒ—ãƒƒãƒˆæ´»å‹•",
                            children: [
                                { id: "study_stats", label: "çµ±è¨ˆå­¦ã‚‚ãã‚‚ãä¼š", icon: "ğŸ“Š", type: "page", title: "çµ±è¨ˆå­¦ã‚‚ãã‚‚ãä¼š", description: "å¿ƒç†å­¦ç ”ç©¶ã«æ¬ ã‹ã›ãªã„çµ±è¨ˆãƒ»ãƒ‡ãƒ¼ã‚¿åˆ†æã‚’ã¿ã‚“ãªã§è‡ªç¿’ãƒ»æ•™ãˆåˆã†ä¼šã§ã™ã€‚\nå…ˆè¼©ãŒå„ªã—ãã‚µãƒãƒ¼ãƒˆã™ã‚‹ã®ã§ã€åˆå¿ƒè€…ã§ã‚‚å¤§ä¸ˆå¤«ï¼" },
                                { id: "study_paper", label: "è«–æ–‡è¼ªèª­ä¼š", icon: "ğŸ“„", type: "page", title: "è«–æ–‡è¼ªèª­ä¼š", description: "èˆˆå‘³ã®ã‚ã‚‹å¿ƒç†å­¦ã®è«–æ–‡ã‚’æŒã¡å¯„ã‚Šã€è¦ç´„ã‚’ç™ºè¡¨ã—åˆã†ä¼šã§ã™ã€‚\næœ€æ–°ã®ç ”ç©¶ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’çŸ¥ã‚Šã€è«–ç†çš„æ€è€ƒåŠ›ã‚’é›ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚" }
                            ]
                        },
                        {
                            id: "events",
                            label: "å…¨ä½“ã‚¤ãƒ™ãƒ³ãƒˆ",
                            icon: "ğŸ‰",
                            question: "ã‚¼ãƒŸå…¨ä½“ã§ç››ã‚Šä¸ŠãŒã‚‹ã‚¤ãƒ™ãƒ³ãƒˆï¼",
                            children: [
                                { id: "event_camp", label: "å¤åˆå®¿", icon: "ğŸ‰", type: "page", title: "å¤åˆå®¿", description: "æ¯å¹´å¤ã«è¡Œã‚ã‚Œã‚‹åˆå®¿ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚\næ˜¼ã¯çœŸé¢ç›®ãªãƒ¯ãƒ¼ã‚¯ã‚·ãƒ§ãƒƒãƒ—ã€å¤œã¯BBQã‚„èŠ±ç«ãªã©ã€ãƒ¡ãƒ³ãƒãƒ¼ã®ä»²ãŒä¸€æ°—ã«æ·±ã¾ã‚‹æœ€å¤§ã®ã‚¤ãƒ™ãƒ³ãƒˆã§ã™ã€‚" },
                                { id: "event_xmas", label: "ã‚¯ãƒªã‚¹ãƒã‚¹ãƒ‘ãƒ¼ãƒ†ã‚£", icon: "ğŸ„", type: "page", title: "ã‚¯ãƒªã‚¹ãƒã‚¹ãƒ‘ãƒ¼ãƒ†ã‚£", description: "1å¹´ã®ç· ã‚ããã‚Šã«è¡Œã†å¤§è¦æ¨¡ãªãƒ‘ãƒ¼ãƒ†ã‚£ã€‚\nãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆäº¤æ›ã‚„ã€1å¹´é–“ã®æ´»å‹•ã‚’æŒ¯ã‚Šè¿”ã‚‹ã‚¢ãƒ¯ãƒ¼ãƒ‰è¡¨å½°å¼ãªã©ãŒè¡Œã‚ã‚Œã¾ã™ã€‚" }
                            ]
                        }
                    ]
                },
                {
                    id: "about_seminar",
                    label: "ã‚¼ãƒŸã®åŸºæœ¬æƒ…å ±",
                    icon: "ğŸ«",
                    question: "å¿ƒç†ã‚¼ãƒŸã®æ ¹æœ¬ã«ã¤ã„ã¦",
                    children: [
                        {
                            id: "about_vision",
                            label: "ãƒ“ã‚¸ãƒ§ãƒ³ãƒ»ç†å¿µ",
                            icon: "ğŸ’¡",
                            type: "page",
                            title: "å¿ƒç†ã‚¼ãƒŸã®ãƒ“ã‚¸ãƒ§ãƒ³",
                            description: "å¿ƒç†ã‚¼ãƒŸã¯ã€Œå­¦å•ã®å®Ÿè·µã€ã‚’ãƒ†ãƒ¼ãƒã«ã€å¤§å­¦ã§å­¦ã‚“ã çŸ¥è­˜ã‚’ãŸã ã®çŸ¥è­˜ã§çµ‚ã‚ã‚‰ã›ãšã€å®Ÿéš›ã®è¡Œå‹•ã‚„ç¤¾ä¼šã«é‚„å…ƒã™ã‚‹ãŸã‚ã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ã™ã€‚\n\nå­¦ç”Ÿä¸»ä½“ã§æ§˜ã€…ãªä¼ç”»ã‚„çµ„ç¹”é‹å–¶ã‚’è¡Œã„ã€å¤±æ•—ã‚’æã‚Œãšã«æŒ‘æˆ¦ã§ãã‚‹ç’°å¢ƒã‚’ä½œã£ã¦ã„ã¾ã™ã€‚"
                        },
                        {
                            id: "about_rep",
                            label: "ä»£è¡¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸",
                            icon: "ğŸ‘‘",
                            type: "page",
                            title: "ä»£è¡¨ã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸",
                            description: "åŒ—å¤§å¿ƒç†ã‚¼ãƒŸä»£è¡¨ã®åŠ è—¤ç¿”å¤§ã§ã™ã€‚\n\nã€Œå¿ƒç†å­¦ã‚’æœºä¸Šã®ç©ºè«–ã§çµ‚ã‚ã‚‰ã›ãŸããªã„ã€ã€Œä½•ã‹é¢ç™½ã„ã“ã¨ã‚’ä»•æ›ã‘ãŸã„ã€ãã‚“ãªç†±ã„æ€ã„ã‚’æŒã£ãŸãƒ¡ãƒ³ãƒãƒ¼ãŒé›†ã¾ã‚‹å ´æ‰€ã‚’ä½œã‚ŠãŸã„ã¨æ€ã„ã€ã“ã®çµ„ç¹”ã‚’é‹å–¶ã—ã¦ã„ã¾ã™ã€‚\nçš†ã•ã‚“ã®ã€Œã‚„ã‚ŠãŸã„ï¼ã€ã¨ã„ã†æŒ‘æˆ¦ã‚’ã€ã“ã®ã‚¼ãƒŸã®ä»•çµ„ã¿ã‚’ä½¿ã£ã¦å…¨åŠ›ã§ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ï¼"
                        },
                        {
                            id: "about_members",
                            label: "ã©ã‚“ãªäººãŒã„ã‚‹ã®ï¼Ÿ",
                            icon: "ğŸ‘¥",
                            type: "page",
                            title: "ãƒ¡ãƒ³ãƒãƒ¼æ§‹æˆ",
                            description: "åŒ—æµ·é“å¤§å­¦ã®æ§˜ã€…ãªå­¦å¹´ãƒ»å­¦éƒ¨ã®å­¦ç”ŸãŒæ‰€å±ã—ã¦ã„ã¾ã™ã€‚\nå¿ƒç†å­¦å°‚æ”»ã®å­¦ç”Ÿã ã‘ã§ãªãã€å·¥å­¦éƒ¨ã‚„æ–‡å­¦éƒ¨ãªã©ã€å¤šæ§˜ãªãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚’æŒã¤ãƒ¡ãƒ³ãƒãƒ¼ãŒé›†ã¾ã‚‹ã“ã¨ã§ã€äºˆæœŸã›ã¬åŒ–å­¦åå¿œãŒèµ·ãã¦ã„ã¾ã™ã€‚"
                        },
                        {
                            id: "faq",
                            label: "ã‚ˆãã‚ã‚‹è³ªå• (FAQ)",
                            icon: "â“",
                            question: "æ°—ã«ãªã‚‹ç–‘å•ã‚’é¸ã‚“ã§ãã ã•ã„",
                            children: [
                                { id: "faq_busy", label: "Q. å¿™ã—ãã¦ã‚‚å¤§ä¸ˆå¤«ï¼Ÿ", icon: "â±ï¸", type: "page", title: "Q. å¿™ã—ãã¦ã‚‚æ´»å‹•ã§ãã¾ã™ã‹ï¼Ÿ", description: "A. ã‚‚ã¡ã‚ã‚“ã§ã™ï¼\nã‚¼ãƒŸã®æ´»å‹•ã¯å¼·åˆ¶ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚è‡ªåˆ†ã®ãƒšãƒ¼ã‚¹ã§å‚åŠ ã§ãã‚‹éƒ¨æ´»ã‚„ã€å˜ç™ºã®ã‚¤ãƒ™ãƒ³ãƒˆã ã‘ã§ã‚‚å¤§æ­“è¿ã§ã™ã€‚" },
                                { id: "faq_knowledge", label: "Q. å¿ƒç†å­¦ã®çŸ¥è­˜ã¯å¿…è¦ï¼Ÿ", icon: "ğŸ§ ", type: "page", title: "Q. å°‚é–€çŸ¥è­˜ãŒãªãã¦ã‚‚å¹³æ°—ã§ã™ã‹ï¼Ÿ", description: "A. å…¨ãå•é¡Œã‚ã‚Šã¾ã›ã‚“ï¼\nã€Œå¿ƒç†å­¦ã«èˆˆå‘³ãŒã‚ã‚‹ã€ã€Œäººé–“ã«ã¤ã„ã¦çŸ¥ã‚ŠãŸã„ã€ã¨ã„ã†æ°—æŒã¡ãŒã‚ã‚Œã°ååˆ†ã§ã™ã€‚æ´»å‹•ã‚’é€šã˜ã¦è‡ªç„¶ã¨å­¦ã‚“ã§ã„ã‘ã¾ã™ã€‚" },
                                { id: "faq_cost", label: "Q. è²»ç”¨ã¯ã‹ã‹ã‚‹ï¼Ÿ", icon: "ğŸ’°", type: "page", title: "Q. æ´»å‹•ã«è²»ç”¨ã¯ã‹ã‹ã‚Šã¾ã™ã‹ï¼Ÿ", description: "A. åŸºæœ¬çš„ãªéƒ¨è²»ï¼ˆæœˆé¡ãªã©ï¼‰ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nãŸã ã—ã€åˆå®¿ã‚„ã‚¤ãƒ™ãƒ³ãƒˆæ™‚ã®é£²é£Ÿä»£ãªã©ã€å®Ÿè²»ãŒç™ºç”Ÿã™ã‚‹å ´åˆã«ã¯äº‹å‰ã«ãŠçŸ¥ã‚‰ã›ã—ã€å‚åŠ è€…ã®ã¿ã§å‰²ã‚Šå‹˜ã¨ãªã‚Šã¾ã™ã€‚" }
                            ]
                        }
                    ]
                },
                {
                    id: "system",
                    label: "ã‚¼ãƒŸã®ãƒ„ãƒ¼ãƒ«ãƒ»ã‚·ã‚¹ãƒ†ãƒ ",
                    icon: "âš™ï¸",
                    question: "ã‚¼ãƒŸã®é‹å–¶ã‚’æ”¯ãˆã‚‹ITãƒ„ãƒ¼ãƒ«ç¾¤",
                    children: [
                        {
                            id: "sys_notion",
                            label: "Notionã«ã¤ã„ã¦",
                            icon: "ğŸ““",
                            type: "page",
                            title: "æƒ…å ±å…±æœ‰ã®æ‹ ç‚¹ï¼šNotion",
                            description: "ã‚¼ãƒŸã®æ´»å‹•è¨˜éŒ²ã€è­°äº‹éŒ²ã€ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ãªã©ã¯ã™ã¹ã¦Notionã¨ã„ã†ãƒ„ãƒ¼ãƒ«ã«é›†ç´„ã•ã‚Œã¦ã„ã¾ã™ã€‚\n\nã“ã‚Œã‚’èª­ã‚ã°ã‚¼ãƒŸã®éå»ã‹ã‚‰ç¾åœ¨ã¾ã§ãŒã™ã¹ã¦ã‚ã‹ã‚‹ã€ç§ãŸã¡ã®ã€Œå¤–éƒ¨è„³ã€ã®ã‚ˆã†ãªå­˜åœ¨ã§ã™ã€‚"
                        },
                        {
                            id: "sys_line",
                            label: "å…¬å¼LINEãƒ»ãƒã‚¤ãƒšãƒ¼ã‚¸",
                            icon: "ğŸ“±",
                            type: "page",
                            title: "ã‚¼ãƒŸå°‚ç”¨å…¬å¼LINE",
                            description: "ã‚¤ãƒ™ãƒ³ãƒˆã®å‡ºæ¬ ç¢ºèªã€ãƒ¡ãƒ³ãƒãƒ¼ã®ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æ¤œç´¢ã€æ€§æ ¼è¨ºæ–­ãƒ†ã‚¹ãƒˆãªã©ã¯ã€ã™ã¹ã¦ã“ã®å…¬å¼LINEã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚\n\né‹å–¶éƒ¨ãƒ¡ãƒ³ãƒãƒ¼ï¼ˆAIï¼‰ãŒã‚ãªãŸã®ç–‘å•ã«ç­”ãˆã¦ãã‚Œã‚‹ãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆæ©Ÿèƒ½ã‚‚æ­è¼‰ã•ã‚Œã¦ã„ã¾ã™ï¼"
                        }
                    ]
                },
                {
                    id: "join",
                    label: "ã‚¼ãƒŸã«å‚åŠ ã™ã‚‹ã«ã¯ï¼Ÿ",
                    icon: "ğŸšª",
                    question: "æ–°ãƒ¡ãƒ³ãƒãƒ¼å¤§å‹Ÿé›†ä¸­ï¼",
                    children: [
                        {
                            id: "join_flow",
                            label: "åŠ å…¥ã¾ã§ã®æµã‚Œ",
                            icon: "ğŸ¾",
                            type: "page",
                            title: "ã‚¼ãƒŸã«å…¥ã‚‹ã«ã¯ï¼Ÿ",
                            description: "1. ã¾ãšã¯ã€Œè¦‹å­¦ãƒ»èª¬æ˜ä¼šã€ã«å‚åŠ ï¼\n\n2. ãƒ¡ãƒ³ãƒãƒ¼ã¨ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«é¢è«‡\nï¼ˆãŠäº’ã„ã®ãƒŸã‚¹ãƒãƒƒãƒã‚’é˜²ããŸã‚ã®ãƒ©ãƒ•ãªä¼šè©±ã§ã™ï¼‰\n\n3. æ­£å¼ã‚¸ãƒ§ã‚¤ãƒ³ï¼ğŸ‰\nï¼ˆNotionã‚„LINEã‚°ãƒ«ãƒ¼ãƒ—ã¸ã”æ‹›å¾…ã—ã¾ã™ï¼‰"
                        },
                        {
                            id: "join_contact",
                            label: "ãŠå•ã„åˆã‚ã›ãƒ»è¦‹å­¦ç”³è¾¼",
                            icon: "âœ‰ï¸",
                            type: "page",
                            title: "ãŠå•ã„åˆã‚ã›",
                            description: "è¦‹å­¦ã‚’å¸Œæœ›ã•ã‚Œã‚‹æ–¹ã€ã‚‚ã£ã¨è©³ã—ãè©±ã‚’èã„ã¦ã¿ãŸã„æ–¹ã¯ã€ã“ã®å…¬å¼LINEã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§ç›´æ¥è©±ã—ã‹ã‘ã‚‹ã‹ã€å…¬å¼SNSã®DMã‹ã‚‰ãŠæ°—è»½ã«ã”é€£çµ¡ãã ã•ã„ï¼"
                        }
                    ]
                }
            ]
        };

        // ==========================================
        // âš™ï¸ æ¢ç´¢ãƒ­ã‚¸ãƒƒã‚¯
        // ==========================================
        let historyStack = []; // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¾¿ã£ãŸãƒ‘ã‚¹ã‚’è¨˜éŒ²ï¼ˆæˆ»ã‚‹ãƒœã‚¿ãƒ³ç”¨ï¼‰
        let currentNode = exploreData;

        function startExploration() {
            document.getElementById('explore-modal').classList.remove('hidden');
            document.getElementById('explore-modal').classList.add('flex');
            historyStack = [exploreData];
            renderNode(exploreData);
        }

        function closeExploration() {
            document.getElementById('explore-modal').classList.add('hidden');
            document.getElementById('explore-modal').classList.remove('flex');
        }

        // ç‰¹å®šã®ãƒãƒ¼ãƒ‰ï¼ˆéšå±¤ï¼‰ã®ç”»é¢ã‚’æç”»ã™ã‚‹
        function renderNode(node) {
            currentNode = node;
            
            // ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã®ç”Ÿæˆï¼ˆä¾‹ï¼š ãƒˆãƒƒãƒ— > ã©ã‚“ãªæ´»å‹•ãŒã‚ã‚‹ã®ï¼Ÿ > éƒ¨æ´»ï¼‰
            let breadcrumbHtml = `<span onclick="goBackTo(0)" class="cursor-pointer hover:underline text-indigo-500">ãƒˆãƒƒãƒ—</span>`;
            for (let i = 1; i < historyStack.length; i++) {
                breadcrumbHtml += ` <span class="text-slate-300 mx-1">/</span> <span onclick="goBackTo(${i})" class="cursor-pointer hover:underline text-indigo-500">${historyStack[i].label}</span>`;
            }
            document.getElementById('breadcrumb').innerHTML = breadcrumbHtml;

            // è³ªå•ãƒ»ã‚¢ã‚¤ã‚³ãƒ³ã®æ›´æ–°
            document.getElementById('current-icon').innerText = node.icon || "âœ¨";
            document.getElementById('current-question').innerText = node.question || "è©³ç´°ã‚’è¦‹ã‚‹";

            // ã€Œãƒšãƒ¼ã‚¸ï¼ˆæœ€çµ‚éšå±¤ï¼‰ã€ã‹ã€Œé¸æŠè‚¢ã€ã‹ã§è¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆ
            if (node.type === "page") {
                document.getElementById('options-container').classList.add('hidden');
                document.getElementById('page-content').classList.remove('hidden');
                
                document.getElementById('page-title').innerText = node.title || node.label;
                document.getElementById('page-desc').innerText = node.description;
                
                // æ—¢èª­çŠ¶æ…‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¦ãƒœã‚¿ãƒ³ã®è¦‹ãŸç›®ã‚’å¤‰ãˆã‚‹
                const isRead = localStorage.getItem('zemi_read_' + node.id) === 'true';
                const btn = document.getElementById('btn-mark-read');
                if (isRead) {
                    btn.innerHTML = `<span class="text-lg">âœ…</span> æ—¢èª­æ¸ˆã¿ï¼ˆä¸€è¦§ã«æˆ»ã‚‹ï¼‰`;
                    btn.className = "w-full bg-emerald-50 border border-emerald-200 text-emerald-600 font-black py-4 rounded-xl shadow-sm active:scale-95 transition flex items-center justify-center gap-2 mt-4";
                } else {
                    btn.innerHTML = `<span class="text-lg">â˜‘ï¸</span> èª­ã‚“ã ï¼ï¼ˆãƒã‚§ãƒƒã‚¯ã‚’ã¤ã‘ã‚‹ï¼‰`;
                    btn.className = "w-full bg-indigo-50 border border-indigo-200 text-indigo-600 font-black py-4 rounded-xl shadow-sm active:scale-95 transition flex items-center justify-center gap-2 mt-4";
                }
            } else {
                document.getElementById('page-content').classList.add('hidden');
                document.getElementById('options-container').classList.remove('hidden');
                
                // é¸æŠè‚¢ã®ãƒœã‚¿ãƒ³ã‚’ç”Ÿæˆ
                let optionsHtml = "";
                if (node.children) {
                    node.children.forEach(child => {
                        let statusIcon = "ğŸ‘‰";
                        let opacityClass = "";
                        let bgClass = "bg-white";
                        let textClass = "text-slate-700";
                        
                        // æ—¢èª­çŠ¶æ…‹ã®ãƒã‚§ãƒƒã‚¯ï¼ˆãã®é …ç›®è‡ªä½“ãŒæ—¢èª­ã‹ã€ã‚‚ã—ãã¯å­è¦ç´ ã‚’æŒã¤å ´åˆã¯ç°¡æ˜“çš„ã«ãƒã‚§ãƒƒã‚¯ï¼‰
                        const isRead = localStorage.getItem('zemi_read_' + child.id) === 'true';
                        
                        // â€» ã‚‚ã—ã€Œéƒ¨æ´»ã€ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€ã§ã‚‚ã€ä¸­èº«ã‚’å…¨éƒ¨èª­ã‚“ã ã‚‰âœ…ã«ã—ãŸã„å ´åˆã¯
                        // ã“ã“ã§å†å¸°çš„ã«ãƒã‚§ãƒƒã‚¯ã™ã‚‹å‡¦ç†ã‚’å…¥ã‚Œã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€ä»Šå›ã¯ã‚·ãƒ³ãƒ—ãƒ«ã«ã—ã¦ã„ã¾ã™ã€‚
                        
                        if (isRead) {
                            statusIcon = "âœ…";
                            opacityClass = "opacity-80";
                            bgClass = "bg-slate-50";
                            textClass = "text-slate-500";
                        }

                        optionsHtml += `
                            <button onclick="selectOption('${child.id}')" class="w-full ${bgClass} ${opacityClass} border border-slate-200 rounded-2xl p-4 flex items-center justify-between shadow-sm hover:shadow-md active:scale-95 transition-all text-left">
                                <div class="flex items-center gap-3">
                                    <span class="text-2xl">${child.icon || "âœ¨"}</span>
                                    <span class="font-black ${textClass}">${child.label}</span>
                                </div>
                                <span class="text-sm">${statusIcon}</span>
                            </button>
                        `;
                    });
                }
                document.getElementById('options-container').innerHTML = optionsHtml;
            }
        }

        // é¸æŠè‚¢ã‚’ã‚¿ãƒƒãƒ—ã—ãŸæ™‚ã®å‡¦ç†
        function selectOption(childId) {
            const childNode = currentNode.children.find(c => c.id === childId);
            if (childNode) {
                historyStack.push(childNode);
                renderNode(childNode);
            }
        }

        // ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã‚’ã‚¿ãƒƒãƒ—ã—ã¦å‰ã®éšå±¤ã«æˆ»ã‚‹å‡¦ç†
        function goBackTo(index) {
            historyStack = historyStack.slice(0, index + 1);
            renderNode(historyStack[historyStack.length - 1]);
        }

        // ã€Œèª­ã‚“ã ï¼ã€ãƒœã‚¿ãƒ³ã®å‡¦ç†
        function markAsRead() {
            // ç«¯æœ«ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ã€Œæ—¢èª­ã€ã¨ã—ã¦ä¿å­˜ï¼ˆãƒšãƒ¼ã‚¸IDã«åŠ ãˆã¦ã€è¦ªã®ã‚«ãƒ†ã‚´ãƒªIDã‚‚æ—¢èª­ã«ã™ã‚‹ãªã©å¿œç”¨ã‚‚å¯èƒ½ï¼‰
            localStorage.setItem('zemi_read_' + currentNode.id, 'true');
            
            // è¦ªã‚«ãƒ†ã‚´ãƒªï¼ˆãƒ•ã‚©ãƒ«ãƒ€ï¼‰ã‚‚èª­ã‚“ã ã“ã¨ã«ã™ã‚‹ï¼ˆç°¡æ˜“ç‰ˆï¼‰
            if(historyStack.length >= 2) {
                localStorage.setItem('zemi_read_' + historyStack[historyStack.length - 2].id, 'true');
            }
            
            // 1ã¤å‰ã®éšå±¤ï¼ˆé¸æŠè‚¢ãƒªã‚¹ãƒˆï¼‰ã«æˆ»ã‚‹
            historyStack.pop();
            renderNode(historyStack[historyStack.length - 1]);
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®å‡¦ç†ï¼ˆLIFFåˆæœŸåŒ–ï¼‰
        async function initIntro() {
            try {
                // æŒ‡å®šã„ãŸã ã„ãŸæ–°ã—ã„LIFF ID
                await liff.init({ liffId: "2009176797-wHDy2QrV" }); 
                if (!liff.isLoggedIn()) {
                    liff.login();
                }
            } catch (err) {
                console.error("LIFF Init Error:", err);
            }
        }
        initIntro();
    </script>
</body>
</html>