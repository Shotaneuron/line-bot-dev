<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>å¿ƒç†ã‚¼ãƒŸã¨ã¯ | åŒ—å¤§å¿ƒç†ã‚¼ãƒŸ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@700;900&family=Zen+Kaku+Gothic+New:wght@700;900&family=Zen+Maru+Gothic:wght@400;700;900&display=swap" rel="stylesheet">
    <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
    <style>
        body { font-family: 'Zen Maru Gothic', sans-serif; background: linear-gradient(-45deg, #ffffff, #f8fafc, #eff6ff, #fdf4ff, #fffbeb); background-size: 300% 300%; animation: auroraBG 15s ease infinite; color: #1e293b; min-height: 100vh; padding-bottom: 5rem; overflow-x: hidden; }
        @keyframes auroraBG { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        .glass-card { background: rgba(255, 255, 255, 0.75); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.9); box-shadow: 0 10px 30px -10px rgba(71, 85, 105, 0.15); }
        .fade-in { animation: fadeIn 0.6s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* å‹•ç”»èƒŒæ™¯ç”¨ã®ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ */
        .video-overlay { background: linear-gradient(to top, rgba(255,255,255,1) 0%, rgba(255,255,255,0) 50%, rgba(0,0,0,0.2) 100%); }
    </style>
</head>
<body class="safe-area-inset-top">

    <main id="portal-view" class="relative pb-10">
        <div class="relative w-full h-[45vh] sm:h-[50vh] overflow-hidden rounded-b-[3rem] shadow-sm mb-6">
            <img src="https://images.unsplash.com/photo-1523240795612-9a054b0db644?auto=format&fit=crop&q=80&w=1000" class="absolute inset-0 w-full h-full object-cover object-center" alt="ã‚¼ãƒŸã®æ§˜å­">
            
            <div class="absolute inset-0 video-overlay"></div>
            
            <div class="absolute bottom-8 left-6 right-6 fade-in">
                <span class="bg-white/90 backdrop-blur text-indigo-600 text-[10px] font-black tracking-widest px-3 py-1 rounded-full shadow-sm">ABOUT US</span>
                <h1 class="text-3xl font-black text-slate-800 mt-3 leading-tight tracking-tight" style="font-family: 'Zen Kaku Gothic New', sans-serif;">
                    å­¦å•ã®å®Ÿè·µã€‚<br>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-indigo-600 to-pink-500">çŸ¥è­˜ã‚’è¡Œå‹•ã«å¤‰ãˆã‚‹å ´æ‰€</span>
                </h1>
            </div>
        </div>

        <div class="px-5 space-y-5">
            <section class="fade-in" style="animation-delay: 0.1s;">
                <div onclick="startExploration()" class="relative overflow-hidden bg-gradient-to-br from-indigo-500 via-purple-500 to-pink-500 rounded-3xl p-1 shadow-lg cursor-pointer active:scale-95 transition-transform">
                    <div class="bg-white/10 backdrop-blur-md rounded-[1.4rem] p-5 flex items-center justify-between">
                        <div>
                            <h2 class="text-white font-black text-lg mb-1 tracking-wider">ğŸ—ºï¸ å¿ƒç†ã‚¼ãƒŸã«ã¤ã„ã¦çŸ¥ã‚‹</h2>
                            <p class="text-white/80 text-[10px] font-bold">ç–‘å•ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ã€ã‚¼ãƒŸã®å…¨è²Œã‚’è§£ãæ˜ã‹ãã†ï¼</p>
                        </div>
                        <div class="w-10 h-10 bg-white/20 rounded-full flex items-center justify-center text-white text-xl shadow-inner">ğŸ‘‰</div>
                    </div>
                </div>
            </section>

            <section class="fade-in" style="animation-delay: 0.2s;">
                <h3 class="text-sm font-black text-slate-800 tracking-widest flex items-center gap-2 mb-3 px-2"><span>ğŸ“¸</span> æ´»å‹•ã‚®ãƒ£ãƒ©ãƒªãƒ¼</h3>
                <div class="flex gap-3 overflow-x-auto no-scrollbar pb-2 px-1">
                    <img src="https://images.unsplash.com/photo-1529390079861-591de354faf5?w=300&h=200&fit=crop" class="w-40 h-28 rounded-2xl object-cover shadow-sm flex-shrink-0 border border-white">
                    <img src="https://images.unsplash.com/photo-1517486808906-6ca8b3f04846?w=300&h=200&fit=crop" class="w-40 h-28 rounded-2xl object-cover shadow-sm flex-shrink-0 border border-white">
                    <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?w=300&h=200&fit=crop" class="w-40 h-28 rounded-2xl object-cover shadow-sm flex-shrink-0 border border-white">
                </div>
            </section>
        </div>
    </main>
    <div id="explore-modal" class="fixed inset-0 z-50 hidden flex-col bg-slate-50/95 backdrop-blur-xl animate-[fadeIn_0.3s_ease-out]">
        
        <div class="flex items-center justify-between p-5 border-b border-slate-200/50 bg-white/50">
            <button onclick="closeExploration()" class="w-10 h-10 bg-white rounded-full flex items-center justify-center text-slate-600 shadow-sm border border-slate-100 font-bold active:scale-95 transition">âœ•</button>
            <div class="text-xs font-black text-slate-400 tracking-widest">Q&A EXPLORER</div>
            <div class="w-10"></div> </div>

        <div class="flex-1 overflow-y-auto pb-10 px-5 pt-6">
            <div id="breadcrumb" class="flex flex-wrap items-center gap-1.5 mb-6 text-[10px] font-bold text-indigo-400">
                </div>

            <div class="mb-8 fade-in">
                <span id="current-icon" class="text-4xl block mb-3 drop-shadow-sm">ğŸ¤”</span>
                <h2 id="current-question" class="text-2xl font-black text-slate-800 leading-tight tracking-tight">ä½•ã«ã¤ã„ã¦çŸ¥ã‚ŠãŸã„ã§ã™ã‹ï¼Ÿ</h2>
            </div>

            <div id="options-container" class="space-y-3">
                </div>

            <div id="page-content" class="hidden glass-card rounded-3xl p-6 fade-in">
                <h3 id="page-title" class="text-lg font-black text-slate-800 mb-3 border-b border-slate-200 pb-2"></h3>
                <div id="page-desc" class="text-sm text-slate-600 leading-relaxed font-medium mb-6 whitespace-pre-wrap"></div>
                
                <button id="btn-mark-read" onclick="markAsRead()" class="w-full bg-indigo-50 border border-indigo-200 text-indigo-600 font-black py-4 rounded-xl shadow-sm active:scale-95 transition flex items-center justify-center gap-2">
                    <span class="text-lg">â˜‘ï¸</span> èª­ã‚“ã ï¼ï¼ˆãƒã‚§ãƒƒã‚¯ã‚’ã¤ã‘ã‚‹ï¼‰
                </button>
            </div>
        </div>
    </div>

    <script>
        // ==========================================
        // ğŸ“š æ¢ç´¢ç”¨ãƒ‡ãƒ¼ã‚¿ï¼ˆã“ã“ã‚’è‡ªç”±ã«æ›¸ãæ›ãˆã¦éšå±¤ã‚’ä½œã‚Œã¾ã™ï¼ï¼‰
        // ==========================================
        const exploreData = {
            id: "root",
            icon: "ğŸ¤”",
            question: "å¿ƒç†ã‚¼ãƒŸã®ä½•ã«ã¤ã„ã¦çŸ¥ã‚ŠãŸã„ã§ã™ã‹ï¼Ÿ",
            children: [
                {
                    id: "activities",
                    label: "ã©ã‚“ãªæ´»å‹•ãŒã‚ã‚‹ã®ï¼Ÿ",
                    icon: "ğŸƒâ€â™‚ï¸",
                    question: "ã©ã®ã‚¸ãƒ£ãƒ³ãƒ«ã®æ´»å‹•ãŒæ°—ã«ãªã‚Šã¾ã™ã‹ï¼Ÿ",
                    children: [
                        {
                            id: "clubs",
                            label: "éƒ¨æ´»",
                            icon: "ğŸ•ï¸",
                            question: "æ°—ã«ãªã‚‹éƒ¨æ´»ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ãã ã•ã„ï¼",
                            children: [
                                { id: "sukoyaka", label: "ã™ã“ã‚„ã‹éƒ¨", icon: "ğŸ§˜", type: "page", title: "ã™ã“ã‚„ã‹éƒ¨ ã¨ã¯ï¼Ÿ", description: "å¥åº·ç¬¬ä¸€ï¼ç­‹ãƒˆãƒ¬ã‚„ã‚µã‚¦ãƒŠã«ä¸€ç·’ã«è¡Œããªã©ã€å¿ƒèº«ã®å¥åº·ã‚’ä¿ã¤ãŸã‚ã®æ´»å‹•ã‚’ã—ã¦ã„ã¾ã™ã€‚\n\nã‚¼ãƒŸã®æ´»å‹•ã§ç–²ã‚ŒãŸé ­ã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã•ã›ã‚‹ã®ã«æœ€é©ãªéƒ¨æ´»ã§ã™ï¼" },
                                { id: "reading", label: "èª­æ›¸éƒ¨", icon: "ğŸ“š", type: "page", title: "èª­æ›¸éƒ¨ ã¨ã¯ï¼Ÿ", description: "ãŠã™ã™ã‚ã®æœ¬ã‚’ç´¹ä»‹ã—åˆã£ãŸã‚Šã€ã¿ã‚“ãªã§åŒã˜æœ¬ã‚’èª­ã‚“ã§ãƒ‡ã‚£ã‚¹ã‚«ãƒƒã‚·ãƒ§ãƒ³ã‚’ã™ã‚‹éƒ¨æ´»ã§ã™ã€‚\n\nå¿ƒç†å­¦ã«é–¢ã™ã‚‹å°‚é–€æ›¸ã‹ã‚‰ã€ãƒ“ã‚¸ãƒã‚¹æ›¸ã€å°èª¬ã¾ã§å¹…åºƒã„ã‚¸ãƒ£ãƒ³ãƒ«ã‚’æ‰±ã„ã¾ã™ã€‚" },
                                { id: "radio", label: "ãƒ©ã‚¸ã‚ªéƒ¨", icon: "ğŸ“»", type: "page", title: "ãƒ©ã‚¸ã‚ªéƒ¨ ã¨ã¯ï¼Ÿ", description: "ã‚¼ãƒŸç”ŸåŒå£«ã§ãƒ©ã‚¸ã‚ªï¼ˆãƒãƒƒãƒ‰ã‚­ãƒ£ã‚¹ãƒˆï¼‰é…ä¿¡ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚\n\né›‘è«‡ã‹ã‚‰çœŸé¢ç›®ãªãƒ†ãƒ¼ãƒã¾ã§ã€ãƒ¡ãƒ³ãƒãƒ¼ã®ç´ é¡”ã‚„è€ƒãˆã¦ã„ã‚‹ã“ã¨ã‚’ç™ºä¿¡ã—ã¦ã„ã¾ã™ï¼" }
                            ]
                        },
                        {
                            id: "projects",
                            label: "ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ (PJ)",
                            icon: "ğŸš€",
                            question: "é€²è¡Œä¸­ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä¸€è¦§",
                            children: [
                                { id: "pj_shinkan", label: "æ–°æ­“PVåˆ¶ä½œPJ", icon: "ğŸ¬", type: "page", title: "æ–°æ­“PVåˆ¶ä½œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ", description: "æ¥å¹´åº¦ã®æ–°å…¥ç”Ÿã«å‘ã‘ã¦ã€å¿ƒç†ã‚¼ãƒŸã®é­…åŠ›ã‚’ä¼ãˆã‚‹ãƒ—ãƒ­ãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³ãƒ“ãƒ‡ã‚ªã‚’åˆ¶ä½œã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã™ã€‚\nNotebookLMãªã©ã®AIãƒ„ãƒ¼ãƒ«ã‚‚æ´»ç”¨ã—ã¦åŠ¹ç‡çš„ã«ã‚¯ãƒªã‚¨ã‚¤ãƒ†ã‚£ãƒ–ã‚’ä½œã£ã¦ã„ã¾ã™ï¼" }
                            ]
                        }
                    ]
                },
                {
                    id: "about_vision",
                    label: "ãã‚‚ãã‚‚å¿ƒç†ã‚¼ãƒŸã¨ã¯ï¼Ÿ",
                    icon: "ğŸ’¡",
                    type: "page",
                    title: "å¿ƒç†ã‚¼ãƒŸã®ãƒ“ã‚¸ãƒ§ãƒ³",
                    description: "å¿ƒç†ã‚¼ãƒŸã¯ã€Œå­¦å•ã®å®Ÿè·µã€ã‚’ãƒ†ãƒ¼ãƒã«ã€å¤§å­¦ã§å­¦ã‚“ã çŸ¥è­˜ã‚’ãŸã ã®çŸ¥è­˜ã§çµ‚ã‚ã‚‰ã›ãšã€å®Ÿéš›ã®è¡Œå‹•ã‚„ç¤¾ä¼šã«é‚„å…ƒã™ã‚‹ãŸã‚ã®ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã§ã™ã€‚\n\nä»£è¡¨ã®åŠ è—¤ç¿”å¤§ã‚’ä¸­å¿ƒã«ã€å­¦ç”Ÿä¸»ä½“ã§æ§˜ã€…ãªä¼ç”»ã‚„çµ„ç¹”é‹å–¶ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚"
                }
            ]
        };

        // ==========================================
        // âš™ï¸ æ¢ç´¢ãƒ­ã‚¸ãƒƒã‚¯
        // ==========================================
        let historyStack = []; // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¾¿ã£ãŸãƒ‘ã‚¹ã‚’è¨˜éŒ²ï¼ˆæˆ»ã‚‹ãƒœã‚¿ãƒ³ç”¨ï¼‰
        let currentNode = exploreData;

        function startExploration() {
            document.getElementById('explore-modal').classList.remove('hidden');
            document.getElementById('explore-modal').classList.add('flex');
            historyStack = [exploreData];
            renderNode(exploreData);
        }

        function closeExploration() {
            document.getElementById('explore-modal').classList.add('hidden');
            document.getElementById('explore-modal').classList.remove('flex');
        }

        // ç‰¹å®šã®ãƒãƒ¼ãƒ‰ï¼ˆéšå±¤ï¼‰ã®ç”»é¢ã‚’æç”»ã™ã‚‹
        function renderNode(node) {
            currentNode = node;
            
            // ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã®ç”Ÿæˆï¼ˆä¾‹ï¼š ãƒˆãƒƒãƒ— > ã©ã‚“ãªæ´»å‹•ãŒã‚ã‚‹ã®ï¼Ÿ > éƒ¨æ´»ï¼‰
            let breadcrumbHtml = `<span onclick="goBackTo(0)" class="cursor-pointer hover:underline">ãƒˆãƒƒãƒ—</span>`;
            for (let i = 1; i < historyStack.length; i++) {
                breadcrumbHtml += ` <span class="text-slate-300">/</span> <span onclick="goBackTo(${i})" class="cursor-pointer hover:underline">${historyStack[i].label}</span>`;
            }
            document.getElementById('breadcrumb').innerHTML = breadcrumbHtml;

            // è³ªå•ãƒ»ã‚¢ã‚¤ã‚³ãƒ³ã®æ›´æ–°
            document.getElementById('current-icon').innerText = node.icon || "âœ¨";
            document.getElementById('current-question').innerText = node.question || "è©³ç´°ã‚’è¦‹ã‚‹";

            // ã€Œãƒšãƒ¼ã‚¸ï¼ˆæœ€çµ‚éšå±¤ï¼‰ã€ã‹ã€Œé¸æŠè‚¢ã€ã‹ã§è¡¨ç¤ºã‚’åˆ‡ã‚Šæ›¿ãˆ
            if (node.type === "page") {
                document.getElementById('options-container').classList.add('hidden');
                document.getElementById('page-content').classList.remove('hidden');
                
                document.getElementById('page-title').innerText = node.title || node.label;
                document.getElementById('page-desc').innerText = node.description;
                
                // æ—¢èª­çŠ¶æ…‹ã‹ãƒã‚§ãƒƒã‚¯ã—ã¦ãƒœã‚¿ãƒ³ã®è¦‹ãŸç›®ã‚’å¤‰ãˆã‚‹
                const isRead = localStorage.getItem('zemi_read_' + node.id) === 'true';
                const btn = document.getElementById('btn-mark-read');
                if (isRead) {
                    btn.innerHTML = `<span class="text-lg">âœ…</span> æ—¢èª­æ¸ˆã¿ï¼ˆæˆ»ã‚‹ï¼‰`;
                    btn.className = "w-full bg-emerald-50 border border-emerald-200 text-emerald-600 font-black py-4 rounded-xl shadow-sm active:scale-95 transition flex items-center justify-center gap-2";
                } else {
                    btn.innerHTML = `<span class="text-lg">â˜‘ï¸</span> èª­ã‚“ã ï¼ï¼ˆãƒã‚§ãƒƒã‚¯ã‚’ã¤ã‘ã‚‹ï¼‰`;
                    btn.className = "w-full bg-indigo-50 border border-indigo-200 text-indigo-600 font-black py-4 rounded-xl shadow-sm active:scale-95 transition flex items-center justify-center gap-2";
                }
            } else {
                document.getElementById('page-content').classList.add('hidden');
                document.getElementById('options-container').classList.remove('hidden');
                
                // é¸æŠè‚¢ã®ãƒœã‚¿ãƒ³ã‚’ç”Ÿæˆ
                let optionsHtml = "";
                if (node.children) {
                    node.children.forEach(child => {
                        // å­ãƒãƒ¼ãƒ‰ãŒãƒšãƒ¼ã‚¸ã®å ´åˆã€æ—¢èª­ï¼ˆâœ…ï¼‰ã‹ã©ã†ã‹ã‚’ç¢ºèª
                        let statusIcon = "ğŸ‘‰";
                        let opacityClass = "";
                        let bgClass = "bg-white";
                        
                        // ãã®é¸æŠè‚¢è‡ªä½“ãŒæ—¢èª­ã€ã‚‚ã—ãã¯ã€Œãã®ä¸­ã®é …ç›®ãŒã™ã¹ã¦æ—¢èª­ã€ãªã‚‰ãƒã‚§ãƒƒã‚¯ã‚’ã¤ã‘ã‚‹ãªã©ã®å·¥å¤«ãŒã§ãã¾ã™ãŒã€ä»Šå›ã¯ã‚·ãƒ³ãƒ—ãƒ«ã«ãƒšãƒ¼ã‚¸è‡ªä½“ãŒæ—¢èª­ã‹ãƒã‚§ãƒƒã‚¯
                        const isRead = localStorage.getItem('zemi_read_' + child.id) === 'true';
                        if (isRead) {
                            statusIcon = "âœ…";
                            opacityClass = "opacity-70";
                            bgClass = "bg-slate-50";
                        }

                        optionsHtml += `
                            <button onclick="selectOption('${child.id}')" class="w-full ${bgClass} ${opacityClass} border border-slate-200 rounded-2xl p-4 flex items-center justify-between shadow-sm hover:shadow-md active:scale-95 transition-all text-left">
                                <div class="flex items-center gap-3">
                                    <span class="text-2xl">${child.icon || "âœ¨"}</span>
                                    <span class="font-black text-slate-700">${child.label}</span>
                                </div>
                                <span class="text-sm">${statusIcon}</span>
                            </button>
                        `;
                    });
                }
                document.getElementById('options-container').innerHTML = optionsHtml;
            }
        }

        // é¸æŠè‚¢ã‚’ã‚¿ãƒƒãƒ—ã—ãŸæ™‚ã®å‡¦ç†
        function selectOption(childId) {
            const childNode = currentNode.children.find(c => c.id === childId);
            if (childNode) {
                historyStack.push(childNode);
                renderNode(childNode);
            }
        }

        // ãƒ‘ãƒ³ããšãƒªã‚¹ãƒˆã‚’ã‚¿ãƒƒãƒ—ã—ã¦å‰ã®éšå±¤ã«æˆ»ã‚‹å‡¦ç†
        function goBackTo(index) {
            historyStack = historyStack.slice(0, index + 1);
            renderNode(historyStack[historyStack.length - 1]);
        }

        // ã€Œèª­ã‚“ã ï¼ã€ãƒœã‚¿ãƒ³ã®å‡¦ç†
        function markAsRead() {
            // ç«¯æœ«ã®ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ã€Œæ—¢èª­ã€ã¨ã—ã¦ä¿å­˜
            localStorage.setItem('zemi_read_' + currentNode.id, 'true');
            
            // 1ã¤å‰ã®éšå±¤ï¼ˆé¸æŠè‚¢ãƒªã‚¹ãƒˆï¼‰ã«æˆ»ã‚‹
            historyStack.pop();
            renderNode(historyStack[historyStack.length - 1]);
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®å‡¦ç†ï¼ˆLIFFåˆæœŸåŒ–ãªã©ï¼‰
        async function initIntro() {
            try {
                // å¿…è¦ã§ã‚ã‚Œã°LIFF IDã‚’å…¥ã‚Œã¦åˆæœŸåŒ–ï¼ˆãƒã‚¤ãƒšãƒ¼ã‚¸ãªã©ã¨åŒã˜ã‚‚ã®ï¼‰
                await liff.init({ liffId: "2009176797-wHDy2QrV" }); 
            } catch (err) {
                console.error(err);
            }
        }
        initIntro();
    </script>
</body>
</html>